# FitPlanBot (Professional MVP)

–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π Telegram-–±–æ—Ç –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –ø–ª–∞–Ω–æ–≤ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –∏ –ø–∏—Ç–∞–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∫–µ—Ç—ã –∏–∑ 24 –≤–æ–ø—Ä–æ—Å–æ–≤.

## üöÄ –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
- **–Ø–∑—ã–∫:** Python 3.11+
- **–§—Ä–µ–π–º–≤–æ—Ä–∫:** Aiogram 3.x + Aiogram Dialog 2.x
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** PostgreSQL 15 + SQLAlchemy 2.0
- **–ú–∏–≥—Ä–∞—Ü–∏–∏:** Alembic
- **–ö—ç—à/FSM:** Redis
- **–û—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á:** Celery
- **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å:** SQLAdmin (FastAPI)
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è:** Docker + Docker Compose

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ (–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞)

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```bash
git clone [https://github.com/lastochkinroman/fitplanbot.git](https://github.com/lastochkinroman/fitplanbot.git)
cd fitplanbot

```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ Poetry:

```bash
poetry install

```

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∏–º–µ—Ä–∞ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ —Å–≤–æ–π `BOT_TOKEN`:

```bash
cp .env.example .env

```

### 3. –ó–∞–ø—É—Å–∫ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, Redis –∏ Adminer:

```bash
docker compose up -d

```

### 4. –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Adminer –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É: [http://localhost:8080](https://www.google.com/search?q=http://localhost:8080)

* **–°–µ—Ä–≤–µ—Ä:** db
* **–õ–æ–≥–∏–Ω/–ü–∞—Ä–æ–ª—å:** postgres / postgres

### 5. –ó–∞–ø—É—Å–∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

#### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫:
```bash
poetry run uvicorn src.admin.web:app --host 0.0.0.0 --port 8000
```

#### –ß–µ—Ä–µ–∑ Docker:
```bash
docker compose up admin -d
```

–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É: **http://localhost:8000/admin**

**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:**
- **–ú–µ—Ç–æ–¥:** Bearer Token
- **–¢–æ–∫–µ–Ω:** `admin_secret_token_12345`
- **–ó–∞–≥–æ–ª–æ–≤–æ–∫:** `Authorization: Bearer admin_secret_token_12345`

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏:**
- üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –ø—Ä–æ—Ñ–∏–ª—è–º–∏
- üí≥ –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–æ–∫ (–≥–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è!)
- üèãÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–ª–∞–Ω–æ–≤ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
- üçé –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞–Ω–∞–º–∏ –ø–∏—Ç–∞–Ω–∏—è
- üìä –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏ –ª–æ–≥–æ–≤

### 6. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```bash
poetry run python -m src.bot
```

## üèó –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

* `src/bot` ‚Äî –õ–æ–≥–∏–∫–∞ –∫–æ–º–∞–Ω–¥ –∏ –¥–∏–∞–ª–æ–≥–æ–≤ –∞–Ω–∫–µ—Ç—ã.
* `src/database` ‚Äî –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.
* `src/services` ‚Äî –ê–ª–≥–æ—Ä–∏—Ç–º—ã –ø–æ–¥–±–æ—Ä–∞ –ø–ª–∞–Ω–æ–≤.
* `src/admin` ‚Äî –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

```
